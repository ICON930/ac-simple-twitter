(this["webpackJsonpac-simple-twitter"]=this["webpackJsonpac-simple-twitter"]||[]).push([[0],{119:function(e,t,a){e.exports={link:"RegisterPage_link__10fQN",span:"RegisterPage_span__3TcCa"}},12:function(e,t,a){e.exports={"cursor-point":"UserIdTweetItem_cursor-point__2AFvj","mx-auto":"UserIdTweetItem_mx-auto__1et4L",container:"UserIdTweetItem_container__3XLL1","base-text-medium":"UserIdTweetItem_base-text-medium__cSoV6","secondary-text":"UserIdTweetItem_secondary-text__1k95h","secondary-text-medium":"UserIdTweetItem_secondary-text-medium__2GtSJ","small-text":"UserIdTweetItem_small-text__29x06","small-text-medium":"UserIdTweetItem_small-text-medium__1Dt48",avatar:"UserIdTweetItem_avatar__3OxX2",userPanel:"UserIdTweetItem_userPanel__VAYN3",accountInfo:"UserIdTweetItem_accountInfo__25P-j",name:"UserIdTweetItem_name__2bJ71",accountAndTime:"UserIdTweetItem_accountAndTime__2-uSt",reply:"UserIdTweetItem_reply__3Z8az",replyPostUser:"UserIdTweetItem_replyPostUser__2o4QV",replyUser:"UserIdTweetItem_replyUser__1vaUQ",tweetContainer:"UserIdTweetItem_tweetContainer__35Rni",replyContainer:"UserIdTweetItem_replyContainer__34JQZ",iconEffect:"UserIdTweetItem_iconEffect__9gPbN",replyEffect:"UserIdTweetItem_replyEffect__cm-8D",likeEffect:"UserIdTweetItem_likeEffect__1jMFN",replyIcon:"UserIdTweetItem_replyIcon__2wZAi",likeIcon:"UserIdTweetItem_likeIcon__8eI7-",replyCount:"UserIdTweetItem_replyCount__3km9n",likeCount:"UserIdTweetItem_likeCount__37ELu"}},120:function(e,t,a){e.exports={link:"AdminLoginPage_link__36Xaa",span:"AdminLoginPage_span__gl-Ob"}},14:function(e,t,a){e.exports={"cursor-point":"UserTweetItem_cursor-point__115k3","mx-auto":"UserTweetItem_mx-auto__tLFcu",container:"UserTweetItem_container__1Kd_A","base-text-medium":"UserTweetItem_base-text-medium__2u88D","secondary-text":"UserTweetItem_secondary-text__pbC7R","secondary-text-medium":"UserTweetItem_secondary-text-medium__Vn0Mi","small-text":"UserTweetItem_small-text__2lKNg","small-text-medium":"UserTweetItem_small-text-medium__hssaW",avatar:"UserTweetItem_avatar__3GNW3",userPanel:"UserTweetItem_userPanel__2idtb",accountInfo:"UserTweetItem_accountInfo__3gye0",name:"UserTweetItem_name__LFSag",accountAndTime:"UserTweetItem_accountAndTime__2BDhT",reply:"UserTweetItem_reply__1YkC3",replyPostUser:"UserTweetItem_replyPostUser__gqchT",replyUser:"UserTweetItem_replyUser__2NyW1",tweetContainer:"UserTweetItem_tweetContainer__-hDAC",replyContainer:"UserTweetItem_replyContainer__2IrWg",iconEffect:"UserTweetItem_iconEffect__1-oyy",replyEffect:"UserTweetItem_replyEffect__22Ey8",likeEffect:"UserTweetItem_likeEffect__1X2Qn",replyIcon:"UserTweetItem_replyIcon__2xcb4",likeIcon:"UserTweetItem_likeIcon__1hIQ7",replyCount:"UserTweetItem_replyCount__3qC5p",likeCount:"UserTweetItem_likeCount__nVqQA"}},15:function(e,t,a){e.exports={tweetModal:"EditModal_tweetModal__1JdXW",overlay:"EditModal_overlay__IuLFo",editModalContainer:"EditModal_editModalContainer__1btlE",editHeader:"EditModal_editHeader__kH6Aj",closeModal:"EditModal_closeModal__9qQh0",modalTitle:"EditModal_modalTitle__3WOsO",storeButton:"EditModal_storeButton__1RMeL",avatar:"EditModal_avatar__VQNqE",editName:"EditModal_editName__VaYMs",focused:"EditModal_focused__10TOw",nameTitle:"EditModal_nameTitle__jKg3x",editIntroduction:"EditModal_editIntroduction__1LO6L",introductionTitle:"EditModal_introductionTitle__3RXX-",nameTextArea:"EditModal_nameTextArea__2gXrN",introductionTextArea:"EditModal_introductionTextArea__3tE2D",editContainer:"EditModal_editContainer__1mPeO",nameLength:"EditModal_nameLength__3T19k",introductionLength:"EditModal_introductionLength__3E5w6",nameExceededStyle:"EditModal_nameExceededStyle__3vIyB",exceededNameContainer:"EditModal_exceededNameContainer__ZFYNz",exceededContainer:"EditModal_exceededContainer__QTVhC",exceededStyle:"EditModal_exceededStyle__3dAtE",errorLine:"EditModal_errorLine__2w8yL",updateBanner:"EditModal_updateBanner__2dMJq",deleteBanner:"EditModal_deleteBanner__2hyhU",updateAvatar:"EditModal_updateAvatar__1k6bZ"}},16:function(e,t,a){e.exports={container:"AdminUserCard_container__3se3R",imgContainer:"AdminUserCard_imgContainer__t3Qup",coverImg:"AdminUserCard_coverImg___hVxp",avatarContainer:"AdminUserCard_avatarContainer__3n9m1",avatar:"AdminUserCard_avatar__Vl98z",infoContainer:"AdminUserCard_infoContainer___P3Uz",userInfoContainer:"AdminUserCard_userInfoContainer__5cvH_",name:"AdminUserCard_name__17m9G",account:"AdminUserCard_account__3V8Yy",counts:"AdminUserCard_counts__nbGVa",icon:"AdminUserCard_icon__27zUE",number:"AdminUserCard_number__K3F-t",follows:"AdminUserCard_follows__5BZE0",followCount:"AdminUserCard_followCount__k5sov",followInfo:"AdminUserCard_followInfo__kQ0CO",break:"AdminUserCard_break__2ylK2"}},18:function(e,t,a){e.exports={container:"ReplyModal_container__tCU1h",replyModal:"ReplyModal_replyModal__3-3Tz",header:"ReplyModal_header__c_fyt",closeIcon:"ReplyModal_closeIcon__xj-LX",middle:"ReplyModal_middle__27vJ_",avatar:"ReplyModal_avatar__3uwo_",article:"ReplyModal_article__1TZ7a",userInfo:"ReplyModal_userInfo__2KL5G",userName:"ReplyModal_userName__28m2p",accountAndTime:"ReplyModal_accountAndTime__2XUKR",userArticle:"ReplyModal_userArticle__3u8Ku",replyName:"ReplyModal_replyName__1T9b9",replyFor:"ReplyModal_replyFor__LyroI",forName:"ReplyModal_forName__4QWw0",line:"ReplyModal_line__3E9Ek",replyContainer:"ReplyModal_replyContainer__3Ol7e",replyAvatar:"ReplyModal_replyAvatar__5AIox",textarea:"ReplyModal_textarea__3GoTS",buttonAndMessage:"ReplyModal_buttonAndMessage__2U23w",errorMessage:"ReplyModal_errorMessage__108WP",showError:"ReplyModal_showError__2EFma",button:"ReplyModal_button__3SuNo"}},191:function(e,t,a){},192:function(e,t,a){},198:function(e,t){},200:function(e,t){},21:function(e,t,a){e.exports={container:"ReplyItem_container__eXFMH",top:"ReplyItem_top__3Qo_X",avatar:"ReplyItem_avatar__2wY__",nameAndAccount:"ReplyItem_nameAndAccount__2tAlh",name:"ReplyItem_name__PZqyi",account:"ReplyItem_account__2NylS",middleContainer:"ReplyItem_middleContainer__39F2q",time:"ReplyItem_time__261bR",replyAndLikeCount:"ReplyItem_replyAndLikeCount__1sIV1",reply:"ReplyItem_reply__2-u8_",like:"ReplyItem_like__1MTn2",count:"ReplyItem_count__1Woj3",replyAndLike:"ReplyItem_replyAndLike__SJEMU",icon:"ReplyItem_icon__3DcGh",replyIcon:"ReplyItem_replyIcon__3Y93b",likeIcon:"ReplyItem_likeIcon__PNQvh"}},212:function(e,t){},214:function(e,t){},23:function(e,t,a){e.exports={userInfoContainer:"UserInfo_userInfoContainer__1PX8Q",banner:"UserInfo_banner__UBBXO",avatar:"UserInfo_avatar__2Qmc9",buttonContainer:"UserInfo_buttonContainer__2-J41",nameContainer:"UserInfo_nameContainer__w88U9",introContainer:"UserInfo_introContainer__1PsUA",followerContainer:"UserInfo_followerContainer__cXDRj",number:"UserInfo_number__2zsjd",label:"UserInfo_label__zrUIl",ballStyle:"UserInfo_ballStyle__3IZNU",ballStyleTwo:"UserInfo_ballStyleTwo__1R3iX",buttonClass:"UserInfo_buttonClass__35Ms4",buttonSmall:"UserInfo_buttonSmall__3gjmi"}},242:function(e,t){},244:function(e,t){},245:function(e,t){},250:function(e,t){},252:function(e,t){},258:function(e,t){},260:function(e,t){},279:function(e,t){},28:function(e,t,a){e.exports={container:"FollowerList_container__2L_Re",content:"FollowerList_content__kwRKW",top:"FollowerList_top__aoJ-C",avatar:"FollowerList_avatar__2OIlG",followerName:"FollowerList_followerName__2mHH9",button:"FollowerList_button__36wby",introduction:"FollowerList_introduction__1UDV0"}},291:function(e,t){},294:function(e,t){},30:function(e,t,a){e.exports={container:"TweetModal_container__2LoIz",tweetModal:"TweetModal_tweetModal__3z_IZ",header:"TweetModal_header__2InER",closeIcon:"TweetModal_closeIcon__3ykAj",middleContent:"TweetModal_middleContent__2fVwp",avatar:"TweetModal_avatar__R6yYi",textarea:"TweetModal_textarea__3mf-x",button:"TweetModal_button__nrvwJ",errorMessage:"TweetModal_errorMessage__2l_St",showError:"TweetModal_showError__3C5vL",buttonAndMessage:"TweetModal_buttonAndMessage__3p0l_"}},31:function(e,t,a){e.exports={container:"FollowerPage_container__2W3zZ",mainContainer:"FollowerPage_mainContainer__1l5uS",middleContainer:"FollowerPage_middleContainer__16_II",header:"FollowerPage_header__2yz8V",followTable:"FollowerPage_followTable__2Z0sa",followLinkActive:"FollowerPage_followLinkActive__28IXK",followLink:"FollowerPage_followLink__uA6F8",isActive:"FollowerPage_isActive__f7T3n"}},323:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(184),s=a.n(c),i=(a(191),a(192),a(8)),o=a(7),l=a(22),u=a(2),d=a(5),j=a(3),b=a(324),m="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",p=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n,r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.password,e.prev=1,e.next=4,b.a.post("".concat(m,"/users/signin"),{account:a,password:n});case 4:if(r=e.sent,c=r.data,!c.token){e.next=9;break}return e.abrupt("return",Object(l.a)({success:!0},c));case 9:return e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),console.error("[Signin Failed]:",e.t0),e.abrupt("return",{success:!1});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n,r,c,s,i,o;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.name,r=t.email,c=t.password,s=t.checkPassword,e.prev=1,e.next=4,b.a.post("".concat(m,"/users"),{account:a,name:n,email:r,password:c,checkPassword:s});case 4:if(i=e.sent,o=i.data,!o.token){e.next=9;break}return e.abrupt("return",Object(l.a)({success:!0},o));case 9:return e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(1),console.error("[Signup Failed]: ",e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),f="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",h=b.a.create({adminURL:f});h.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var v=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n,r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.password,e.prev=1,e.next=4,b.a.post("".concat(f,"/admin/signin"),{account:a,password:n});case 4:if(r=e.sent,c=r.data,!c.token){e.next=9;break}return e.abrupt("return",Object(l.a)({success:!0},c));case 9:return e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),console.error("[Admin Signin Failed]:",e.t0),e.abrupt("return",{success:!1});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("".concat(f,"/admin/tweets"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[Admin get all tweets Failed]:",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("".concat(f,"/admin/users"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[Admin get all users Failed]:",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.delete("".concat(f,"/admin/tweets/").concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[Admin delete tweet failed]:",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",k=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(g,"/users/").concat(a,"/followers"),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getFollower is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(g,"/users/").concat(a,"/followings"),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getFollowing is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,a),e.next=4,b.a.post("".concat(g,"/followships"),{id:a},{headers:{Authorization:"Bearer "+t}});case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(a),console.log("[follow fail]",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("".concat(g,"/followships/").concat(a),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(a),console.log("[unFollow fail]",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),I="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",A=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(I,"/users/").concat(a),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log("getUserid is Fail",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a,n){var r,c,s,i,o,l,d;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.account,c=n.name,s=n.email,i=n.password,o=n.checkPassword,console.log("Setting API Call:",t,a,r,c,s),e.prev=2,e.next=5,b.a.put("".concat(I,"/users/").concat(a),{account:r,name:c,email:s,password:i,checkPassword:o},{headers:{Authorization:"Bearer "+t}});case 5:return l=e.sent,d=l.data,console.log("[setting is OK]"),e.abrupt("return",d);case 11:return e.prev=11,e.t0=e.catch(2),console.log("[settingChange is Fail]",e.t0),e.abrupt("return",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),S=a(88),T=a(0),E={isAuthenticated:!1,adminAuthenticated:!1,currentMember:null,register:null,login:null,logout:null},M=Object(n.createContext)(E),L=function(){return Object(n.useContext)(M)},F=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(j.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!1),b=Object(j.a)(i,2),m=b[0],f=b[1],h=Object(n.useState)(null),x=Object(j.a)(h,2),_=x[0],w=x[1],g=Object(n.useState)([]),k=Object(j.a)(g,2),C=k[0],y=k[1],I=Object(o.l)();return Object(n.useEffect)((function(){var e=localStorage.getItem("token");if(e){var t=S.decode(e);console.log("Temp payload:",t),t&&(w(t),s(!0),f(!0))}}),[]),Object(n.useEffect)((function(){if(c){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,a,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token"),!_){e.next=8;break}return a=_.id,e.next=6,N(t,a);case 6:n=e.sent,y(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Fetch following users failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[c,_]),Object(n.useEffect)((function(){if(m){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,a,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token"),!_){e.next=8;break}return a=_.id,e.next=6,N(t,a);case 6:n=e.sent,y(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Fetch following users failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[m,_]),Object(T.jsx)(M.Provider,{value:{isAuthenticated:c,adminAuthenticated:m,currentMember:_&&{id:_.id,name:_.name,avatar:_.avatar,account:_.account,email:_.email,followingUsers:C,isFollowed:_.id,tweetCount:_.id,cover:_.cover},register:function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({account:t.account,name:t.name,email:t.email,password:t.password,checkPassword:t.checkPassword});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n,r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({account:t.account,password:t.password});case 2:return a=e.sent,n=a.success,r=a.token,(c=S.decode(r))?(w(c),s(!0),localStorage.setItem("token",r)):(w(null),s(!1)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),adminLogin:function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n,r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({account:t.account,password:t.password});case 2:return a=e.sent,n=a.success,r=a.token,(c=S.decode(r))?(w(c),f(!0),localStorage.setItem("token",r)):(w(null),f(!1)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("token"),w(null),s(!1),f(!1),I("/login")},getUser:function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,A(a,t);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("getUserInfo fail",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),updateCurrentMember:function(e){console.log("...updatedFields",e),w((function(t){return Object(l.a)(Object(l.a)({},t),e)}))}},children:t})},P=function(){var e=L().isAuthenticated,t=Object(o.l)();Object(n.useEffect)((function(){e||t("/login")}),[t,e])},R=a(17),B=a.n(R),z=a(11),D=a(27),H=a(38),K=a.n(H);function V(e){var t=e.label,a=e.type,n=e.value,r=e.placeholder,c=e.onChange,s=e.notification,i=e.wordsLimit,o=e.onKeyUp;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:K.a.container,children:[Object(T.jsx)("label",{className:K.a.label,children:t}),Object(T.jsx)("input",{className:Object(D.a)(K.a.input,Object(z.a)({},K.a.active,n.length>i||"\u5e33\u865f\u4e0d\u5b58\u5728\uff01"===s||"Error: email\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===s||"Error: account\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===s)),type:a||"text",value:n,placeholder:r,onChange:function(e){return null===c||void 0===c?void 0:c(e.target.value)},onKeyUp:o})]}),Object(T.jsxs)("div",{className:K.a.noteBox,children:[Object(T.jsx)("div",{className:Object(D.a)(K.a.notification,Object(z.a)({},K.a.active,n.length>i||"\u5e33\u865f\u4e0d\u5b58\u5728\uff01"===s||"Error: email\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===s||"Error: account\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===s)),children:s}),Object(T.jsxs)("span",{className:Object(D.a)(K.a.count,Object(z.a)({},K.a.active,n.length>0)),children:[n.length,"/",i]})]})]})}var X=a.p+"static/media/logo-Icon.684e310b.svg",Q=a(74),W=a.n(Q);function Z(e){var t=e.children,a=e.title;return Object(T.jsxs)("div",{className:W.a.container,children:[Object(T.jsx)("img",{className:W.a.logo,src:X,alt:"AC logo"}),Object(T.jsx)("h3",{className:W.a.title,children:a}),Object(T.jsx)("div",{className:W.a.AuthInputContainer,children:t})]})}var J=a(49),q=a.n(J);function G(e){var t,a=e.title,n=e.size,r=e.isAction,c=e.onClick,s=e.className,i=Object(D.a)(q.a.button,s,(t={},Object(z.a)(t,q.a.small,"small"===n),Object(z.a)(t,q.a.middle,"middle"===n),Object(z.a)(t,q.a.navTweet,"navTweet"===n),Object(z.a)(t,q.a.large,"large"===n),Object(z.a)(t,q.a.action,r),Object(z.a)(t,q.a.edit,"edit"===n),t));return Object(T.jsx)("button",{className:i,onClick:c,children:a})}var Y=a(89),$=a.n(Y);function ee(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(j.a)(c,2),l=s[0],b=s[1],m=Object(n.useState)(!1),p=Object(j.a)(m,2),O=p[0],f=p[1],h=L(),v=h.login,x=h.isAuthenticated,_=h.adminAuthenticated,w=Object(o.l)(),g=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==l.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,v({account:a,password:l});case 6:if(!e.sent){e.next=11;break}return B.a.fire({position:"top",title:"\u767b\u5165\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),w("/main"),e.abrupt("return");case 11:f(!0),B.a.fire({position:"top",title:"\u767b\u5165\u5931\u6557\uff01",text:"\u5e33\u865f\u4e0d\u5b58\u5728\uff01",timer:1e3,icon:"error",showConfirmButton:!1});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x?w("/main"):_&&w("/admin/main")}),[w,x,_]),Object(T.jsxs)(Z,{title:"\u767b\u5165 Alphitter",children:[Object(T.jsx)(V,{label:"\u5e33\u865f",value:a,placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",onKeyUp:function(e){"Enter"===e.key&&g()},onChange:function(e){r(e),f("")},notification:O?"\u5e33\u865f\u4e0d\u5b58\u5728\uff01":"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:50}),Object(T.jsx)(V,{label:"\u5bc6\u78bc",value:l,type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onKeyUp:function(e){"Enter"===e.key&&g()},onChange:function(e){return b(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:20}),Object(T.jsx)(G,{title:"\u767b\u5165",size:"large",isAction:!0,onClick:g}),Object(T.jsxs)("div",{className:$.a.link,children:[Object(T.jsx)(i.c,{to:"/register",children:Object(T.jsx)("span",{className:$.a.span,children:"\u8a3b\u518a"})}),Object(T.jsx)("span",{children:"\u30fb"}),Object(T.jsx)(i.c,{to:"/admin/login",children:Object(T.jsx)("span",{className:$.a.span,children:"\u5f8c\u53f0\u767b\u5165"})})]})]})}var te=a(119),ae=a.n(te);function ne(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(j.a)(c,2),l=s[0],b=s[1],m=Object(n.useState)(""),p=Object(j.a)(m,2),O=p[0],f=p[1],h=Object(n.useState)(""),v=Object(j.a)(h,2),x=v[0],_=v[1],w=Object(n.useState)(""),g=Object(j.a)(w,2),k=g[0],N=g[1],C=Object(n.useState)(!1),y=Object(j.a)(C,2),I=y[0],A=y[1],U=Object(n.useState)(!1),S=Object(j.a)(U,2),E=S[0],M=S[1],F=L().register,P=Object(o.l)(),R=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==l.length){e.next=4;break}return e.abrupt("return");case 4:if(0!==O.length){e.next=6;break}return e.abrupt("return");case 6:if(0!==x.length){e.next=8;break}return e.abrupt("return");case 8:if(0!==k.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,F({account:a,name:l,email:O,password:x,checkPassword:k});case 12:if(t=e.sent,console.log(t),"success"!==t.status){e.next=18;break}return B.a.fire({position:"top",title:"\u8a3b\u518a\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),P("/login"),e.abrupt("return");case 18:return B.a.fire({position:"top",title:"\u8a3b\u518a\u5931\u6557\uff01",text:t.response.data.message,timer:1e3,icon:"error",showConfirmButton:!1}),"Error: email\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===t.response.data.message?M(!0):"Error: account\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===t.response.data.message&&A(!0),e.abrupt("return");case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(Z,{title:"\u5efa\u7acb\u4f60\u7684\u5e33\u865f",children:[Object(T.jsx)(V,{label:"\u5e33\u865f",value:a,placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",onChange:function(e){r(e),A("")},notification:I?"Error: account\u5df2\u91cd\u8907\u8a3b\u518a\uff01":"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:50,onKeyUp:function(e){"Enter"===e.key&&R()}}),Object(T.jsx)(V,{label:"\u540d\u7a31",value:l,placeholder:"\u8acb\u8f38\u5165\u4f7f\u7528\u8005\u540d\u7a31",onChange:function(e){return b(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:50,onKeyUp:function(e){"Enter"===e.key&&R()}}),Object(T.jsx)(V,{label:"Email",value:O,placeholder:"\u8acb\u8f38\u5165Email",onChange:function(e){f(e),M("")},notification:E?"Error: email\u5df2\u91cd\u8907\u8a3b\u518a\uff01":"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:100,onKeyUp:function(e){"Enter"===e.key&&R()}}),Object(T.jsx)(V,{label:"\u5bc6\u78bc",value:x,type:"password",placeholder:"\u8acb\u8a2d\u5b9a\u5bc6\u78bc",onChange:function(e){return _(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:20,onKeyUp:function(e){"Enter"===e.key&&R()}}),Object(T.jsx)(V,{label:"\u5bc6\u78bc\u78ba\u8a8d",value:k,type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",onChange:function(e){return N(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:20,onKeyUp:function(e){"Enter"===e.key&&R()}}),Object(T.jsx)(G,{title:"\u8a3b\u518a",size:"large",isAction:!0,onClick:R}),Object(T.jsx)("div",{className:ae.a.link,children:Object(T.jsx)(i.c,{to:"/login",children:Object(T.jsx)("span",{className:ae.a.span,children:"\u53d6\u6d88"})})})]})}var re=a(120),ce=a.n(re);function se(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(j.a)(c,2),l=s[0],b=s[1],m=Object(n.useState)(!1),p=Object(j.a)(m,2),O=p[0],f=p[1],h=L(),v=h.adminLogin,x=h.adminAuthenticated,_=Object(o.l)(),w=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==l.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,v({account:a,password:l});case 6:if(!e.sent){e.next=11;break}return B.a.fire({position:"top",title:"\u767b\u5165\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),_("/admin/main"),e.abrupt("return");case 11:f(!0),B.a.fire({position:"top",title:"\u767b\u5165\u5931\u6557\uff01",text:"\u5e33\u865f\u4e0d\u5b58\u5728\uff01",timer:1e3,icon:"error",showConfirmButton:!1});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x&&_("/admin/main")}),[_,x]),Object(T.jsxs)(Z,{title:"\u5f8c\u53f0\u767b\u5165",children:[Object(T.jsx)(V,{label:"\u5e33\u865f",value:a,placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",onChange:function(e){r(e),f("")},notification:O?"\u5e33\u865f\u4e0d\u5b58\u5728\uff01":"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:50,onKeyUp:function(e){"Enter"===e.key&&w()}}),Object(T.jsx)(V,{label:"\u5bc6\u78bc",value:l,type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onChange:function(e){return b(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:20,onKeyUp:function(e){"Enter"===e.key&&w()}}),Object(T.jsx)(G,{title:"\u767b\u5165",size:"large",isAction:!0,onClick:w}),Object(T.jsx)("div",{className:ce.a.link,children:Object(T.jsx)(i.c,{to:"/login",children:Object(T.jsx)("span",{className:ce.a.span,children:"\u524d\u53f0\u767b\u5165"})})})]})}var ie=a(55),oe=a.n(ie);function le(e){var t=e.iconStyle,a=e.altName,n=e.title,r=e.isActive;return Object(T.jsxs)("div",{className:oe.a.container,children:[Object(T.jsx)("div",{className:oe.a.iconStyle,children:Object(T.jsx)("img",{className:Object(D.a)(oe.a[t],Object(z.a)({},oe.a.activeIcon,r)),alt:a})}),Object(T.jsx)("div",{className:Object(D.a)(oe.a.title,Object(z.a)({},oe.a.activeTitle,r)),children:n})]})}var ue=a(30),de=a.n(ue),je=a.p+"static/media/noti-fail.d3c6db8d.svg",be=a.p+"static/media/default-avatar.2adf53e9.svg",me="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",pe=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(me,"/tweets"),{headers:{Authorization:"Bearer "+t}});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getTweets is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(me,"/tweets"),{description:a},{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[post Newtweet is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(me,"/tweets/").concat(a),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getUserTweet is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(me,"/tweets/").concat(a,"/replies"),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[get tweetReply is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a,n){var r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(me,"/tweets/").concat(n,"/replies"),{comment:a},{headers:{Authorization:"Bearer "+t}});case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[replyTweet is fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(me,"/users/").concat(a,"/tweets"),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getUserIdTweet is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();function _e(e){var t=e.isOpen,a=e.onClose,r=Object(n.useState)(""),c=Object(j.a)(r,2),s=(c[0],c[1]),i=L().currentMember,o=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s(""),O&&f){e.next=6;break}return e.next=5,Oe(localStorage.getItem("token"),m);case 5:p("");case 6:B.a.fire({position:"top",title:"\u767c\u6587\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),setTimeout((function(){window.location.reload()}),2e3),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u767c\u6587\u5931\u6557",e.t0),s("\u767c\u6587\u5931\u6557"),B.a.fire({position:"top",title:"\u767c\u6587\u5931\u6557\uff01",timer:1e3,icon:"error",showConfirmButton:!1});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),l=Object(n.useState)(""),b=Object(j.a)(l,2),m=b[0],p=b[1];if(!t)return null;var O=m.length>140,f=""===m.trim(),h=Object(D.a)(de.a.errorMessage,Object(z.a)({},de.a.showError,O||f));return Object(T.jsx)("div",{className:de.a.container,children:Object(T.jsxs)("div",{className:de.a.tweetModal,children:[Object(T.jsx)("div",{className:de.a.header,children:Object(T.jsx)("img",{src:je,alt:"close",className:de.a.closeIcon,onClick:a})}),Object(T.jsxs)("div",{className:de.a.middleContent,children:[Object(T.jsx)("div",{className:de.a.avatar,children:Object(T.jsx)("img",{src:(null===i||void 0===i?void 0:i.avatar)||be,alt:"avatar"})}),Object(T.jsx)("div",{className:de.a.textarea,children:Object(T.jsx)("textarea",{className:de.a.textarea,placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b?",value:m,onChange:function(e){p(e.target.value)}})})]}),Object(T.jsxs)("div",{className:de.a.buttonAndMessage,children:[Object(T.jsxs)("div",{className:h,children:[O&&"\u5b57\u6578\u4e0d\u53ef\u8d85\u904e140\u5b57",f&&"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d"]}),Object(T.jsx)("div",{className:de.a.button,children:Object(T.jsx)(G,{title:"\u63a8\u6587",size:"small",onClick:o,isAction:!0})})]})]})})}var we=a.p+"static/media/logout-Icon.8d8a59b8.svg",ge=a(39),ke=a.n(ge);function Ne(e){var t=e.page,a=L().currentMember,r=Object(n.useState)(!1),c=Object(j.a)(r,2),s=c[0],l=c[1],u=L().logout,d=null===a||void 0===a?void 0:a.id,b=Object(o.i)();return Object(T.jsxs)("div",{className:ke.a.container,children:[Object(T.jsx)("img",{className:ke.a.logoImg,src:X,alt:"logo"}),Object(T.jsxs)("div",{className:ke.a.main,children:["user"===t&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:ke.a.menu,children:[Object(T.jsx)(i.c,{to:"/main",children:Object(T.jsx)(le,{iconStyle:"iconHome",altName:"main",title:"\u9996\u9801",isActive:"/main"===b.pathname})}),Object(T.jsx)(i.c,{to:"/user/".concat(d),children:Object(T.jsx)(le,{iconStyle:"iconUser",altName:"user",title:"\u500b\u4eba\u8cc7\u6599",isActive:b.pathname==="/user/".concat(d)})}),Object(T.jsx)(i.c,{to:"/setting",children:Object(T.jsx)(le,{iconStyle:"iconSetting",altName:"setting",title:"\u8a2d\u5b9a",isActive:"/setting"===b.pathname})})]}),Object(T.jsxs)("div",{className:ke.a.btn,children:[Object(T.jsx)(G,{onClick:function(){console.log("Modal is opening"),l(!0)},title:"\u63a8\u6587",size:"navTweet",isAction:!0}),s&&Object(T.jsx)(_e,{isOpen:s,onClose:function(){l(!1)}})]})]}),"admin"===t&&Object(T.jsxs)("div",{className:ke.a.menu,children:[Object(T.jsx)(i.c,{to:"/admin/main",children:Object(T.jsx)(le,{iconStyle:"iconHome",altName:"main",title:"\u63a8\u6587\u6e05\u55ae",isActive:"/admin/main"===b.pathname})}),Object(T.jsx)(i.c,{to:"/admin/users",children:Object(T.jsx)(le,{iconStyle:"iconUser",altName:"user",title:"\u4f7f\u7528\u8005\u5217\u8868",isActive:"/admin/users"===b.pathname})})]})]}),Object(T.jsxs)("div",{className:ke.a.logout,onClick:function(){u()},children:[Object(T.jsx)("img",{className:ke.a.logoutImg,src:we,alt:"log-out"}),Object(T.jsx)("h5",{className:ke.a.btnName,children:"\u767b\u51fa"})]})]})}var Ce=a.p+"static/media/back-arrow-icon.c45ed6a2.svg",ye=a(36),Ie=a.n(ye);function Ae(e){var t=e.title,a=e.arrow,n=e.tweetCount;return Object(T.jsx)("div",{className:Ie.a.container,children:a&&n?Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:Ie.a.headerContainer,children:[Object(T.jsx)(i.c,{to:"/main",children:Object(T.jsx)("div",{className:Ie.a.arrow,children:Object(T.jsx)("img",{src:Ce,alt:"arrow"})})}),Object(T.jsxs)("div",{className:Ie.a.titleContainer,children:[Object(T.jsx)("h5",{className:Ie.a.smallTitle,children:t}),Object(T.jsxs)("p",{className:Ie.a.tweetCount,children:[" ",n," \u63a8\u6587"]})]})]})}):a?Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:Ie.a.headerContainer,children:[Object(T.jsx)(i.c,{to:"/main",children:Object(T.jsx)("div",{className:Ie.a.arrow,children:Object(T.jsx)("img",{src:Ce,alt:"arrow"})})}),Object(T.jsx)("div",{children:Object(T.jsx)("h4",{className:Ie.a.title,children:t})})]})}):Object(T.jsx)("h4",{className:Ie.a.title,children:t})})}var Ue=a.p+"static/media/cross-gray.c2283cfb.svg",Se=a(34),Te=a.n(Se);function Ee(e){var t=e.tweetId,a=e.avatar,n=e.userName,r=e.account,c=e.createdAt,s=e.description,i=e.onDelete;return Object(T.jsxs)("div",{className:Te.a.container,children:[Object(T.jsx)("div",{className:Te.a.avatar,children:Object(T.jsx)("img",{className:Te.a.avatarImg,src:a,alt:"avatar"})}),Object(T.jsxs)("div",{className:Te.a.infoContainer,children:[Object(T.jsxs)("div",{className:Te.a.userInfo,children:[Object(T.jsx)("h5",{className:Te.a.name,children:n}),Object(T.jsxs)("span",{className:Te.a.account,children:["@",r]}),Object(T.jsx)("span",{className:Te.a.tweetTime,children:c})]}),Object(T.jsx)("div",{className:Te.a.tweetContent,children:s})]}),Object(T.jsx)("div",{className:Te.a.adminDelete,onClick:function(){return i(t)},children:Object(T.jsx)("img",{className:Te.a.deleteImg,src:Ue,alt:"admin_delete"})})]})}var Me=a(90),Le=a.n(Me);function Fe(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],r=t[1],c=L().adminAuthenticated,s=Object(o.l)(),i=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:r((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\u7372\u53d6\u63a8\u6587\u5931\u6557",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=a.map((function(e){return Object(T.jsx)(Ee,{tweetId:e.id,avatar:e.User.avatar,userName:e.User.name,account:e.User.account,createdAt:e.createdAt,description:e.description,onDelete:i},e.id)}));return Object(n.useEffect)((function(){c||s("/admin/login")}),[s,c]),Object(T.jsxs)("div",{className:Le.a.container,children:[Object(T.jsx)(Ne,{page:"admin"}),Object(T.jsxs)("div",{className:Le.a.listContainer,children:[Object(T.jsx)(Ae,{title:"\u63a8\u6587\u6e05\u55ae"}),Object(T.jsx)("div",{className:Le.a.list,children:l})]})]})}var Pe=a(16),Re=a.n(Pe),Be=a.p+"static/media/tweet-Icon.a90bd42d.svg",ze=a.p+"static/media/like-icon.1062e6c7.svg";function De(e){var t=e.avatar,a=e.name,n=e.cover,r=e.account,c=e.followerAmount,s=e.followingAmount,i=e.tweetsAmount,o=e.likedAmount,l=e.role;return Object(T.jsxs)("div",{className:Re.a.container,children:[Object(T.jsxs)("div",{className:Re.a.imgContainer,children:[Object(T.jsx)("img",{className:Re.a.coverImg,src:n,alt:"Cover img"}),Object(T.jsx)("div",{className:Re.a.avatarContainer,children:Object(T.jsx)("img",{className:Re.a.avatar,src:t,alt:"Avatar"})})]}),Object(T.jsx)("div",{className:Re.a.infoContainer,children:"admin"===l?Object(T.jsxs)("div",{className:Re.a.userInfoContainer,children:[Object(T.jsx)("h5",{className:Re.a.name,children:a}),Object(T.jsx)("h5",{className:Re.a.account,children:r}),Object(T.jsx)("h5",{className:Re.a.name,children:"\u7ba1\u7406\u54e1"})]}):Object(T.jsxs)("div",{className:Re.a.userInfoContainer,children:[Object(T.jsx)("h5",{className:Re.a.name,children:a}),Object(T.jsx)("h5",{className:Re.a.account,children:r}),Object(T.jsxs)("div",{className:Re.a.counts,children:[Object(T.jsx)("img",{className:Re.a.icon,src:Be,alt:"reply"}),Object(T.jsx)("span",{className:Re.a.number,children:i}),Object(T.jsx)("img",{className:Re.a.icon,src:ze,alt:"like"}),Object(T.jsx)("span",{className:Re.a.number,children:o})]}),Object(T.jsxs)("div",{className:Re.a.follows,children:[Object(T.jsx)("span",{className:Re.a.followCount,children:s}),Object(T.jsx)("span",{className:Re.a.followInfo,children:"\u8ddf\u96a8\u4e2d"}),Object(T.jsx)("span",{className:Re.a.break}),Object(T.jsx)("span",{className:Re.a.followCount,children:c}),Object(T.jsx)("span",{className:Re.a.followInfo,children:"\u8ddf\u96a8\u8005"})]})]})})]})}var He=a(91),Ke=a.n(He);function Ve(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],r=t[1],c=L().adminAuthenticated,s=Object(o.l)();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:if("error"!==(t=e.sent).status){e.next=7;break}return console.log(t.message),e.abrupt("return");case 7:t&&r(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u7372\u53d6\u4f7f\u7528\u8005\u5931\u6557",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=a.map((function(e){return Object(T.jsx)(De,{avatar:e.avatar,name:e.name,cover:e.cover,account:e.account,followerAmount:e.followerAmount,followingAmount:e.followingAmount,tweetsAmount:e.tweetsAmount,likedAmount:e.likedAmount,role:e.role},e.id)}));return Object(n.useEffect)((function(){c||s("/admin/login")}),[s,c]),Object(T.jsxs)("div",{className:Ke.a.container,children:[Object(T.jsx)(Ne,{page:"admin"}),Object(T.jsxs)("div",{className:Ke.a.cardContainer,children:[Object(T.jsx)(Ae,{title:"\u4f7f\u7528\u8005\u5217\u8868"}),Object(T.jsx)("div",{className:Ke.a.card,children:i})]})]})}var Xe=a(40),Qe=a.n(Xe);function We(e){e.avatar;var t=e.setShouldReloadTweets,a=e.onRefresh,r=Object(n.useState)(""),c=Object(j.a)(r,2),s=c[0],l=c[1],b=L().currentMember,m=Object(n.useState)(""),p=Object(j.a)(m,2),O=(p[0],p[1]),f=Object(o.l)(),h=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O(""),v&&x){e.next=7;break}return e.next=5,Oe(localStorage.getItem("token"),s);case 5:l(""),t(!0);case 7:f("/main"),B.a.fire({position:"top",title:"\u767c\u6587\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}).then((function(){a()})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("\u53d1\u6587\u5931\u8d25\uff0c\u9519\u8bef\u4fe1\u606f\uff1a",e.t0),O("\u767c\u6587\u5931\u6557"),B.a.fire({position:"top",title:"\u767c\u6587\u5931\u6557\uff01",timer:1e3,icon:"error",showConfirmButton:!1});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=s.length>140,x=""===s.trim(),_=Object(D.a)(Qe.a.errorMessage,Object(z.a)({},Qe.a.showError,v||x));return Object(T.jsxs)("div",{className:Qe.a.fieldContainer,children:[Object(T.jsxs)("div",{className:Qe.a.tweetContainer,children:[Object(T.jsx)("div",{className:Qe.a.avatar,children:Object(T.jsx)(i.b,{to:"/user",children:Object(T.jsx)("img",{className:"cursor-point",src:(null===b||void 0===b?void 0:b.avatar)||be,alt:"avatar"})})}),Object(T.jsx)("div",{className:Qe.a.textAreaContainer,children:Object(T.jsx)("textarea",{className:Qe.a.textarea,placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b?",value:s,onChange:function(e){l(e.target.value)}})})]}),Object(T.jsxs)("div",{className:Qe.a.buttonAndMessage,children:[Object(T.jsxs)("div",{className:_,children:[v&&"\u5b57\u6578\u4e0d\u53ef\u8d85\u904e140\u5b57",x&&"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d"]}),Object(T.jsx)("div",{className:Qe.a.tweetButton,children:Object(T.jsx)(G,{size:"small",title:"\u63a8\u6587",onClick:h,isAction:!0})})]})]})}var Ze,Je=a(14),qe=a.n(Je),Ge=a(18),Ye=a.n(Ge);function $e(e){e.isOpen;var t,a,r,c,s=e.onClose,i=e.tweetInfo,o=Object(n.useState)(""),l=Object(j.a)(o,2),b=l[0],m=l[1],p=Object(n.useState)(!0),O=Object(j.a)(p,2),f=O[0],h=O[1],v=L().currentMember,x=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,e.next=6,ve(localStorage.getItem("token"),b,i.id);case 6:h(!1),s(),B.a.fire({position:"top",title:"\u56de\u8986\u767c\u9001\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),setTimeout((function(){window.location.reload()}),2e3),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("Reply failed",e.t0),h(!1),B.a.fire({position:"top",title:"\u56de\u8986\u767c\u9001\u5931\u6557\uff01",timer:1e3,icon:"error",showConfirmButton:!1});case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),_=b.length>140,w=""===b.trim(),g=Object(D.a)(Ye.a.errorMessage,Object(z.a)({},Ye.a.showError,_||w));return Object(T.jsx)("div",{className:Ye.a.container,children:Object(T.jsxs)("div",{className:Ye.a.replyModal,children:[Object(T.jsx)("div",{className:Ye.a.header,children:Object(T.jsx)("img",{src:je,alt:"close",className:Ye.a.closeIcon,onClick:s})}),Object(T.jsxs)("div",{className:Ye.a.middle,children:[Object(T.jsx)("div",{className:Ye.a.avatar,children:Object(T.jsx)("img",{src:(null===(t=i.User)||void 0===t?void 0:t.avatar)||be,alt:"avatar"})}),Object(T.jsxs)("div",{className:Ye.a.article,children:[Object(T.jsxs)("div",{className:Ye.a.userInfo,children:[Object(T.jsx)("p",{className:Ye.a.userName,children:null===i||void 0===i||null===(a=i.User)||void 0===a?void 0:a.name}),Object(T.jsxs)("h6",{className:Ye.a.accountAndTime,children:["@",null===i||void 0===i||null===(r=i.User)||void 0===r?void 0:r.account,"\uff0e",null===i||void 0===i?void 0:i.createdAt]})]}),Object(T.jsx)("div",{className:Ye.a.userArticle,children:null===i||void 0===i?void 0:i.description}),Object(T.jsxs)("div",{className:Ye.a.replyName,children:[Object(T.jsx)("h6",{className:Ye.a.replyFor,children:"\u56de\u8986\u7d66"}),Object(T.jsxs)("p",{className:Ye.a.forName,children:["@",null===i||void 0===i||null===(c=i.User)||void 0===c?void 0:c.account]})]})]})]}),Object(T.jsx)("div",{className:Ye.a.line}),Object(T.jsxs)("div",{className:Ye.a.replyContainer,children:[Object(T.jsx)("div",{className:Ye.a.replyAvatar,children:Object(T.jsx)("img",{src:v.avatar||be,alt:"avatar"})}),Object(T.jsx)("div",{className:Ye.a.textarea,children:Object(T.jsx)("textarea",{className:Ye.a.textarea,placeholder:"\u63a8\u4f60\u7684\u56de\u8986",value:b,onChange:function(e){var t=e.target.value;m(t)}})})]}),Object(T.jsxs)("div",{className:Ye.a.buttonAndMessage,children:[Object(T.jsxs)("div",{className:g,children:[_&&"\u5b57\u6578\u4e0d\u53ef\u8d85\u904e140\u5b57",w&&"\u5167\u5bb9\u4e0d\u53ef\u70ba\u7a7a\u767d"]}),Object(T.jsx)("div",{className:Ye.a.button,children:Object(T.jsx)(G,{title:"\u56de\u8986",size:"small",onClick:x,disabled:f,isAction:!0})})]})]})})}var et=["title","titleId"];function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},tt.apply(this,arguments)}function at(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function nt(e,t){var a=e.title,r=e.titleId,c=at(e,et);return n.createElement("svg",tt({width:31,height:30,viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,Ze||(Ze=n.createElement("path",{d:"M18.425 2.80251L13.24 2.79001H13.2375C7.77005 2.79001 3.48755 7.07376 3.48755 12.5425C3.48755 17.665 7.47005 21.55 12.8188 21.755V26.54C12.8188 26.675 12.8738 26.8975 12.9688 27.0438C13.1463 27.325 13.4488 27.4775 13.7588 27.4775C13.9313 27.4775 14.105 27.43 14.2613 27.33C14.5913 27.12 22.3525 22.155 24.3713 20.4475C26.7488 18.435 28.1713 15.485 28.175 12.5575V12.5363C28.1675 7.07751 23.8875 2.80251 18.425 2.80126V2.80251ZM23.1588 19.0175C21.7413 20.2175 17.0813 23.2738 14.6938 24.8213V20.8375C14.6938 20.32 14.275 19.9 13.7563 19.9H13.2613C8.6863 19.9 5.3638 16.805 5.3638 12.5425C5.3638 8.12501 8.8238 4.66501 13.2388 4.66501L18.4225 4.67751H18.425C22.84 4.67751 26.3 8.13501 26.3025 12.5475C26.2988 14.935 25.125 17.3525 23.16 19.0175H23.1588Z",fill:"#6C757D"})))}var rt,ct=n.forwardRef(nt),st=(a.p,["title","titleId"]);function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},it.apply(this,arguments)}function ot(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function lt(e,t){var a=e.title,r=e.titleId,c=ot(e,st);return n.createElement("svg",it({width:31,height:30,viewBox:"0 0 31 30",fill:"#6C757D",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,rt||(rt=n.createElement("path",{d:"M15.8674 27.0475H15.8499C12.6212 26.9875 3.30493 18.57 3.30493 10.5975C3.30493 6.76753 6.46118 3.40503 10.0587 3.40503C12.9212 3.40503 14.8462 5.38003 15.8662 6.81753C16.8837 5.38253 18.8087 3.40503 21.6724 3.40503C25.2724 3.40503 28.4274 6.76753 28.4274 10.5988C28.4274 18.5688 19.1099 26.9863 15.8812 27.045H15.8674V27.0475ZM10.0599 5.28128C7.45993 5.28128 5.18118 7.76628 5.18118 10.6C5.18118 17.775 13.9737 25.095 15.8687 25.1725C17.7662 25.095 26.5562 17.7763 26.5562 10.6C26.5562 7.76628 24.2774 5.28128 21.6774 5.28128C18.5174 5.28128 16.7524 8.95128 16.7374 8.98753C16.4499 9.69003 15.2924 9.69003 15.0037 8.98753C14.9862 8.95003 13.2224 5.28128 10.0612 5.28128H10.0599Z"})))}var ut,dt=n.forwardRef(lt),jt=(a.p,["title","titleId"]);function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},bt.apply(this,arguments)}function mt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pt(e,t){var a=e.title,r=e.titleId,c=mt(e,jt);return n.createElement("svg",bt({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,ut||(ut=n.createElement("path",{d:"M7.00005 13.4253H6.99072C5.26872 13.3933 0.300049 8.90392 0.300049 4.65192C0.300049 2.60925 1.98338 0.815918 3.90205 0.815918C5.42872 0.815918 6.45538 1.86925 6.99938 2.63592C7.54205 1.87058 8.56871 0.815918 10.096 0.815918C12.016 0.815918 13.6987 2.60925 13.6987 4.65258C13.6987 8.90325 8.72938 13.3926 7.00738 13.4239H7.00005V13.4253Z",fill:"#FC5A5A"})))}var Ot=n.forwardRef(pt),ft=(a.p,a(29)),ht="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",vt=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(ht,"/users/").concat(a,"/likes"),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getUserLikeTweet is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),xt=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(ht,"/tweets/").concat(a,"/like"),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),_t=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(ht,"/tweets/").concat(a,"/unlike"),{},{headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getUserDelLikeTweet is Fail]",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),wt=Object(n.createContext)(),gt=function(){return Object(n.useContext)(wt)},kt=function(e){var t=e.children,a=L().currentMember,r=localStorage.getItem("token"),c=Object(n.useState)([]),s=Object(j.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)({}),b=Object(j.a)(l,2),m=b[0],p=b[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("likes"))||[];o(e)}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,n,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,xt(r);case 5:t=e.sent,n=t.map((function(e){return e.id})),o(n),localStorage.setItem("likes",JSON.stringify(n)),c={},t.forEach((function(e){c[e.id]=e.likedAmount})),p(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Failed to fetch user likes:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,r]);var O=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt(r,t);case 3:a=[].concat(Object(ft.a)(i),[t]),o(a),localStorage.setItem("likes",JSON.stringify(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed to add like:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_t(r,t);case 3:a=i.filter((function(e){return e!==t})),o(a),localStorage.setItem("likes",JSON.stringify(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed to remove like:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h={likes:i,likeCounts:m,addLike:O,removeLike:f};return Object(T.jsx)(wt.Provider,{value:h,children:t})};function Nt(e){var t=e.name,a=e.account,r=e.avatar,c=e.description,s=e.createdAt,o=e.repliedAmount,l=e.tweet,b=e.id,m=Object(n.useState)(!1),p=Object(j.a)(m,2),O=p[0],f=p[1],h=gt(),v=h.likes,x=h.addLike,_=h.removeLike,w=Object(n.useState)(v.includes(l.id)),g=Object(j.a)(w,2),k=g[0],N=g[1],C=localStorage.getItem("token"),y=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=6;break}return e.next=3,x(l.id,C);case 3:N(!0),e.next=9;break;case 6:return e.next=8,_(l.id,C);case 8:N(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{className:qe.a.container,children:[Object(T.jsx)("div",{className:qe.a.avatar,children:Object(T.jsx)(i.b,{to:"/user/".concat(b),children:Object(T.jsx)("img",{className:"cursor-point",src:r||be,alt:"avatar"})})}),Object(T.jsxs)("div",{className:qe.a.userPanel,children:[Object(T.jsxs)("div",{className:qe.a.accountInfo,children:[Object(T.jsx)("h6",{className:qe.a.name,children:t}),Object(T.jsxs)("h6",{className:qe.a.accountAndTime,children:["@",a,"\uff0e",s]})]}),Object(T.jsx)(i.b,{to:"/tweets/".concat(l.id),children:Object(T.jsx)("div",{className:qe.a.tweetContainer,children:c})}),Object(T.jsxs)("div",{className:qe.a.iconEffect,children:[Object(T.jsxs)("div",{className:qe.a.replyEffect,children:[Object(T.jsx)(ct,{className:qe.a.replyIcon,width:"1em",height:"1em",onClick:function(){f(!0)}}),O&&Object(T.jsx)($e,{isOpen:O,onClose:function(){f(!1)},tweetInfo:l}),Object(T.jsx)("h6",{className:qe.a.replyCount,children:o})]}),Object(T.jsxs)("div",{className:qe.a.likeEffect,children:[k?Object(T.jsx)(Ot,{className:qe.a.likeIcon,onClick:y,style:{cursor:"pointer"}}):Object(T.jsx)(dt,{className:qe.a.likeIcon,onClick:y,style:{cursor:"pointer"}}),Object(T.jsx)("h6",{className:qe.a.likeCount,children:l.likedAmount})]})]})]})]})}function Ct(e){var t=e.reply,a=t.User,n=void 0===a?{}:a,r=n.name,c=n.account,s=n.avatar,o=n.id,l=t.createdAt,u=t.comment;return Object(T.jsxs)("div",{className:qe.a.container,children:[Object(T.jsx)("div",{className:qe.a.avatar,children:Object(T.jsx)(i.b,{to:"/user/".concat(o),children:Object(T.jsx)("img",{src:s,alt:"avatar"})})}),Object(T.jsxs)("div",{className:qe.a.userPanel,children:[Object(T.jsxs)("div",{className:qe.a.accountInfo,children:[Object(T.jsx)("h6",{className:qe.a.name,children:r}),Object(T.jsxs)("h6",{className:qe.a.accountAndTime,children:["@",c,"\uff0e",l]})]}),Object(T.jsxs)("div",{className:qe.a.replyUser,children:[Object(T.jsx)("h6",{className:qe.a.reply,children:"\u56de\u8986"}),Object(T.jsxs)("h6",{className:qe.a.replyPostUser,children:["@",r]})]}),Object(T.jsx)("div",{className:qe.a.replyContainer,children:u})]})]})}var yt=a(50),It=a.n(yt);function At(e){var t=e.avatar,a=e.name,r=e.account,c=e.id,s=e.isFollowed,o=e.Follow,l=e.Unfollow,b=Object(n.useState)(s),m=Object(j.a)(b,2),p=m[0],O=m[1],f=localStorage.getItem("token"),h=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=7;break}return e.next=3,l(c,f);case 3:"\u53d6\u6d88\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&O(!1),e.next=11;break;case 7:return e.next=9,o(c,f);case 9:"\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&O(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O(s)}),[s]),Object(T.jsxs)("div",{className:It.a.container,children:[Object(T.jsx)("div",{className:It.a.avatarContainer,children:Object(T.jsx)(i.b,{to:"/user/".concat(c),children:Object(T.jsx)("img",{className:It.a.userAvatar,src:t||be,alt:"avatar"})})}),Object(T.jsx)("div",{className:It.a.userInfo,children:Object(T.jsxs)(i.b,{to:"/user/".concat(c),children:[Object(T.jsx)("p",{className:It.a.userInfoName,children:a}),Object(T.jsxs)("p",{className:It.a.userInfoAccount,children:["@",r]})]})}),Object(T.jsx)("div",{className:It.a.btnFollow,children:p?Object(T.jsx)(G,{title:"\u6b63\u5728\u8ddf\u96a8",size:"middle",onClick:function(){return h(c)},isAction:!0}):Object(T.jsx)(G,{title:"\u8ddf\u96a8",size:"small",onClick:function(){return h(c)}})})]})}var Ut="https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api",St=b.a.create({baseURL:Ut});St.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var Tt=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.get("".concat(Ut,"/users/?top=10"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.error("[Get top users Failed]:",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Et=Object(n.createContext)();function Mt(){return Object(n.useContext)(Et)}function Lt(e){var t=e.children,a=localStorage.getItem("token"),r=Object(n.useState)([]),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(n.useState)([]),l=Object(j.a)(o,2),b=l[0],m=l[1],p=Object(n.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(a);case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("\u8ffd\u96a8\u8005\u6e05\u55ae\u5931\u6557",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]),O=Object(n.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(a);case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("\u6b63\u5728\u8ddf\u96a8\u6e05\u55ae\u5931\u6557",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]),f=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(a,t);case 3:return n=e.sent,p(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("\u8ddf\u96a8\u5931\u6557",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(a,t);case 3:return n=e.sent,p(),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("\u53d6\u6d88\u8ffd\u8e64\u5931\u6557",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p(),O()}),[p,O]),Object(T.jsx)(Et.Provider,{value:{followers:s,following:b,followUser:f,unfollowUser:h},children:t})}var Ft=a(92),Pt=a.n(Ft);function Rt(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Mt(),s=c.followUser,i=c.unfollowUser;Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt();case 3:(t=e.sent)&&r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\u7372\u53d6\u63a8\u85a6\u8ddf\u96a8\u5931\u6557",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var o=a.map((function(e){return Object(T.jsx)(At,{avatar:e.avatar,name:e.name,account:e.account,id:e.id,isFollowed:e.isFollowed,Follow:s,Unfollow:i},e.id)}));return Object(T.jsxs)("div",{className:Pt.a.container,children:[Object(T.jsx)("h4",{className:Pt.a.title,children:"\u63a8\u85a6\u8ddf\u96a8"}),Object(T.jsx)("div",{className:Pt.a.list,children:o})]})}var Bt=a(43),zt=a.n(Bt);function Dt(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),a=t[0],r=t[1],c=L().isAuthenticated,s=localStorage.getItem("token"),i=Object(n.useState)(!1),o=Object(j.a)(i,2),l=o[0],b=o[1],m=gt().likes,p=Object(n.useState)(!1),O=Object(j.a)(p,2),f=O[0],h=O[1];Object(n.useEffect)((function(){if(c){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe(s);case 3:t=e.sent,r(t),b(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("fetch tweets is Fail",e.t0),r([]);case 12:return e.prev=12,h(!1),b(!1),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,8,12,16]])})));return function(){return e.apply(this,arguments)}}();e()}}),[c,s,l,m]);var v=function(){h(!0)};return f?null:Object(T.jsx)("div",{className:zt.a.container,children:Object(T.jsxs)("div",{className:zt.a.mainContainer,children:[Object(T.jsx)("div",{className:zt.a.navContainer,children:Object(T.jsx)(Ne,{page:"user"})}),Object(T.jsxs)("div",{className:zt.a.middleContainer,children:[Object(T.jsx)("div",{className:zt.a.header,children:Object(T.jsx)(Ae,{title:"\u9996\u9801"})}),Object(T.jsx)("div",{className:zt.a.tweetField,children:Object(T.jsx)(We,{setShouldReloadTweets:b,onRefresh:v})}),Object(T.jsx)("div",{className:zt.a.userTweetItem,children:a.length>0?a.map((function(e){return Object(T.jsx)(Nt,{name:e.User.name,account:e.User.account,avatar:e.User.avatar,description:e.description,createdAt:e.createdAt,repliedAmount:e.repliedAmount,likedAmount:e.likedAmount,tweet:e,id:e.User.id,onRefresh:v},e.id)})):Object(T.jsx)("p",{children:"Loading..."})})]}),Object(T.jsx)("div",{className:zt.a.sugContainer,children:Object(T.jsx)(Rt,{})})]})})}var Ht=a(23),Kt=a.n(Ht),Vt=a.p+"static/media/default-banner.ae7dfa2e.svg",Xt=a(15),Qt=a.n(Xt),Wt=a.p+"static/media/camera-icon.6da3794d.svg",Zt=a.p+"static/media/cross-white.d08d7ae1.svg",Jt=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a,n){var r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.put("".concat("https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api","/users/").concat(a),n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+t}});case 3:return r=e.sent,c=r.data,console.log("formData:",n),console.log("response.data:",r.data),e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log("editChange is Fail",e.t0),console.log("formData:",n);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}();function qt(e){var t=e.isOpen,a=e.isClose,r=e.userData,c=e.onSaveSuccess,s=L(),i=s.updateCurrentMember,o=s.currentMember,l=o?o.id:null,b=Object(n.useState)(r&&r.name),m=Object(j.a)(b,2),p=m[0],O=m[1],f=Object(n.useState)(r?r.introduction:"\u8acb\u8f38\u5165\u81ea\u6211\u4ecb\u7d39..."),h=Object(j.a)(f,2),v=h[0],x=h[1],_=Object(n.useState)(!1),w=Object(j.a)(_,2),g=w[0],k=w[1],N=Object(n.useState)(!1),C=Object(j.a)(N,2),y=C[0],I=C[1],A=Object(n.useState)(!0),U=Object(j.a)(A,2),S=U[0],E=U[1],M=Object(n.useState)(null),F=Object(j.a)(M,2),P=F[0],R=F[1],z=Object(n.useState)(null),D=Object(j.a)(z,2),H=D[0],K=D[1],V=Object(n.useState)(!1),X=Object(j.a)(V,2),Q=X[0],W=X[1],Z=Object(n.useState)(!1),J=Object(j.a)(Z,2),q=J[0],Y=J[1],$=Object(n.useRef)(null),ee=Object(n.useRef)(null),te=function(e,t,a,n){var r=e.target.value,c=!1;r.length<=n?t(r):c=!0,a(c),E(!g&&!y)};Object(n.useEffect)((function(){E(!g&&!y)}),[g,y]);var ae=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,a,n,r,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("token"),l){e.next=5;break}return console.error("ID is null or undefined."),e.abrupt("return");case 5:return a=o.avatar,n=o.cover,(r=new FormData).append("name",p),r.append("introduction",v),P?r.append("avatar",P):r.append("avatar",a),H?r.append("cover",H):r.append("cover",n),e.next=14,Jt(t,l,r);case 14:s=e.sent,i({name:s.data.user.name,avatar:s.data.user.avatar,cover:s.data.user.cover}),B.a.fire({icon:"success",title:"\u5132\u5b58\u6210\u529f\uff01",text:"\u4f60\u7684\u8cc7\u6599\u5df2\u6210\u529f\u66f4\u65b0\u3002",confirmButtonText:"\u78ba\u5b9a"}),c(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),B.a.fire({icon:"error",title:"\u5132\u5b58\u5931\u6557",text:"\u7121\u6cd5\u66f4\u65b0\u4f60\u7684\u8cc7\u6599\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002",confirmButtonText:"\u78ba\u5b9a"}),console.log("Failed to update user:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e,t){return t?Qt.a.errorLine:e?Qt.a.focused:""};return t?Object(T.jsx)("div",{children:Object(T.jsx)("div",{className:Qt.a.overlay,children:Object(T.jsxs)("div",{className:Qt.a.editModalContainer,children:[Object(T.jsxs)("header",{className:Qt.a.editHeader,children:[Object(T.jsx)("img",{className:Qt.a.closeModal,src:je,alt:"closeModal",onClick:a}),Object(T.jsx)("h5",{className:Qt.a.modalTitle,children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"}),Object(T.jsx)("div",{className:Qt.a.storeButton,children:Object(T.jsx)(G,{title:"\u5132\u5b58",size:"small",isAction:!0,onClick:S?ae:null})})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("input",{id:"avatar",type:"file",accept:"image/*",ref:$,style:{display:"none"},onChange:function(e){var t=e.target.files[0];R(t)}}),Object(T.jsx)("input",{id:"cover",type:"file",accept:"image/*",ref:ee,style:{display:"none"},onChange:function(e){var t=e.target.files[0];K(t)}}),Object(T.jsx)("img",{width:"634px",height:"200px",src:H?URL.createObjectURL(H):r?r.cover:Vt,alt:"default-banner",htmlFor:"cover"}),Object(T.jsx)("img",{className:Qt.a.updateBanner,src:Wt,alt:"update-banner",onClick:function(){ee.current.click()},htmlFor:"cover"}),Object(T.jsx)("img",{className:Qt.a.deleteBanner,src:Zt,alt:"delete-banner",onClick:function(){console.log("Delete button clicked"),K(null)},htmlFor:"cover"})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("img",{className:Qt.a.avatar,src:P?URL.createObjectURL(P):r?r.avatar:be,alt:"default-avatar",htmlFor:"avatar"}),Object(T.jsx)("img",{className:Qt.a.updateAvatar,src:Wt,alt:"update-avatar",onClick:function(){$.current.click()},htmlFor:"avatar"})]}),Object(T.jsxs)("div",{className:Qt.a.editContainer,children:[Object(T.jsxs)("label",{className:"".concat(Qt.a.editName," ").concat(ne(Q,g)," "),children:[Object(T.jsx)("div",{className:Qt.a.nameTitle,children:"\u540d\u7a31"}),Object(T.jsx)("textarea",{value:p,onFocus:function(){return W(!0)},onBlur:function(){return W(!1)},placeholder:"\u8acb\u8f38\u5165\u540d\u7a31...",onChange:function(e){return te(e,O,k,51)},className:Qt.a.nameTextArea})]}),Object(T.jsx)("div",{className:Qt.a.nameLength,children:Object(T.jsxs)("span",{children:[p.length,"/50"]})}),g&&Object(T.jsx)("div",{className:Qt.a.exceededNameContainer,children:Object(T.jsx)("span",{className:Qt.a.exceededStyle,children:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"})}),Object(T.jsxs)("label",{className:"".concat(Qt.a.editIntroduction," ").concat(ne(q,y)," "),children:[Object(T.jsx)("div",{className:Qt.a.introductionTitle,children:"\u81ea\u6211\u4ecb\u7d39"}),Object(T.jsx)("textarea",{value:v,onFocus:function(){return Y(!0)},onBlur:function(){return Y(!1)},placeholder:"\u8acb\u8f38\u5165\u81ea\u6211\u4ecb\u7d39...",onChange:function(e){return te(e,x,I,161)},className:Qt.a.introductionTextArea})]}),Object(T.jsx)("div",{className:Qt.a.introductionLength,children:Object(T.jsxs)("span",{children:[null===v||void 0===v?void 0:v.length,"/160"]})}),y&&Object(T.jsx)("div",{className:Qt.a.exceededContainer,children:Object(T.jsx)("span",{className:Qt.a.exceededStyle,children:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"})})]})]})})}):null}var Gt=a.p+"static/media/noti-Icon.b663346e.svg",Yt=a.p+"static/media/message-Icon.ed78cd9f.svg";function $t(e){var t=e.isOtherUser,a=e.userData,r=e.onSaveSuccess,c=e.isFollowed,s=e.Unfollow,o=e.Follow,l=(e.id,Object(n.useState)(!1)),b=Object(j.a)(l,2),m=b[0],p=b[1],O=Object(n.useState)(c),f=Object(j.a)(O,2),h=f[0],v=f[1],x=localStorage.getItem("token"),_=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=7;break}return e.next=3,s(a.id,x);case 3:"\u53d6\u6d88\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&v(!1),e.next=12;break;case 7:return e.next=9,o(a.id,x);case 9:t=e.sent,console.log(a.id),"\u8ddf\u96a8\u6210\u529f!"===t.message&&v(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{className:Kt.a.userInfoContainer,children:[Object(T.jsx)("img",{className:Kt.a.banner,src:a.cover||Vt,height:"200px",width:"634px",alt:"default-banner"}),Object(T.jsx)("img",{className:Kt.a.avatar,src:a.avatar||be,alt:"default-avatar"}),!t&&Object(T.jsx)("img",{className:Kt.a.ballStyle,src:Yt,alt:"Mail"}),!t&&Object(T.jsx)("img",{className:Kt.a.ballStyleTwo,src:Gt,alt:"ball"}),Object(T.jsx)("div",{className:Kt.a.buttonContainer,children:t?Object(T.jsxs)("div",{className:Kt.a.buttonClass,children:[Object(T.jsx)(G,{title:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599",size:"edit",onClick:function(){p(!0)}}),m&&Object(T.jsx)(qt,{onSaveSuccess:r,isOpen:m,isClose:function(){p(!1)},userData:a})]}):Object(T.jsx)("div",{className:Kt.a.buttonSmall,children:h?Object(T.jsx)(G,{title:"\u6b63\u5728\u8ddf\u96a8",size:"middle",onClick:function(){return _(a.id)},isAction:!0}):Object(T.jsx)(G,{title:"\u8ddf\u96a8",size:"small",onClick:function(){return _(a.id)}})})}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:Kt.a.nameContainer,children:[Object(T.jsx)("p",{children:a.name}),Object(T.jsxs)("p",{children:["@",a.account]})]}),Object(T.jsx)("div",{className:Kt.a.introContainer,children:Object(T.jsx)("p",{children:a.introduction})}),Object(T.jsxs)("div",{className:Kt.a.followerContainer,children:[Object(T.jsxs)("span",{className:Kt.a.number,children:[a.followingsCount," \u500b"]}),Object(T.jsx)(i.b,{to:"/users/".concat(a.id,"/followings"),children:Object(T.jsx)("span",{className:Kt.a.label,children:"\u8ddf\u96a8\u4e2d"})}),Object(T.jsxs)("span",{className:Kt.a.number,children:[a.followersCount," \u4f4d"]}),Object(T.jsx)(i.b,{to:"/users/".concat(a.id,"/follower"),children:Object(T.jsx)("span",{className:Kt.a.label,children:"\u8ddf\u96a8\u8005"})})]})]})]})}var ea=a(35),ta=a.n(ea),aa=a(12),na=a.n(aa),ra=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t,a){var n,r,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat("https://thawing-beach-07124-5fd4697aa480.herokuapp.com/api","/users/").concat(a,"/replied_tweets"),{headers:{Authorization:"Bearer "+t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("[getUserReplyTweet is Fail]",e.t0),console.log("Error Details:",(null===(c=e.t0.response)||void 0===c?void 0:c.data)||e.t0.message),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();function ca(e){var t=e.userId,a=e.updateTweetCount,r=Object(n.useState)([]),c=Object(j.a)(r,2),s=c[0],o=c[1],b=Object(n.useState)(!0),m=Object(j.a)(b,2),p=m[0],O=m[1],f=localStorage.getItem("token"),h=gt(),v=h.likes,x=h.addLike,_=h.removeLike,w=Object(n.useState)(null),g=Object(j.a)(w,2),k=g[0],N=g[1],C=Object(n.useState)(!1),y=Object(j.a)(C,2),I=y[0],A=y[1];Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O(!0),!t||!f){e.next=8;break}return e.next=5,xe(f,t);case 5:n=e.sent,Array.isArray(n)?(o(n),"function"===typeof a&&a(n.length)):(console.error("Expected an array but received",n),o([])),O(!1);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error Details:",e.t0.response),console.log("Error fetching tweets:",e.t0),O(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,f,a]);var U=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!v.includes(t)){e.next=6;break}return e.next=4,_(t,f);case 4:e.next=8;break;case 6:return e.next=8,x(t,f);case 8:a=s.map((function(e){return e.id===t?Object(l.a)(Object(l.a)({},e),{},{likedAmount:v.includes(t)?e.likedAmount-1:e.likedAmount+1}):e})),o(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error handling like:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();if(p)return Object(T.jsx)("p",{children:"Loading..."});if(0===s.length)return Object(T.jsx)("p",{children:"\u4f7f\u7528\u8005\u7121\u63a8\u6587"});var S=function(){A(!1)};return Object(T.jsx)("div",{children:s.map((function(e){return Object(T.jsxs)("div",{className:na.a.container,children:[Object(T.jsx)("div",{className:na.a.avatar,children:Object(T.jsx)(i.b,{to:"/user/".concat(t),children:Object(T.jsx)("img",{className:"cursor-point",src:e.User.avatar||be,alt:"avatar"})})}),Object(T.jsxs)("div",{className:na.a.userPanel,children:[Object(T.jsxs)("div",{className:na.a.accountInfo,children:[Object(T.jsx)("h6",{className:na.a.name,children:e.User.name}),Object(T.jsxs)("h6",{className:na.a.accountAndTime,children:["@",e.User.account,"\uff0e",e.createdAt]})]}),Object(T.jsx)(i.b,{to:"/tweets/".concat(e.id),children:Object(T.jsx)("div",{className:na.a.tweetContainer,children:e.description})}),Object(T.jsxs)("div",{className:na.a.iconEffect,children:[Object(T.jsxs)("div",{className:na.a.replyEffect,children:[Object(T.jsx)(ct,{className:"".concat(na.a.replyIcon," cursor-point"),width:"1em",height:"1em",onClick:function(){return function(e){N(e),A(!0)}(e)}}),I&&Object(T.jsx)($e,{isOpen:I,onClose:S,tweetInfo:k}),Object(T.jsx)("h6",{className:na.a.replyCount,children:e.repliedAmount})]}),Object(T.jsxs)("div",{className:na.a.likeEffect,children:[v.includes(e.id)?Object(T.jsx)(Ot,{className:na.a.likeIcon,style:{cursor:"pointer"},onClick:function(){return U(e.id)}}):Object(T.jsx)(dt,{className:na.a.likeIcon,style:{cursor:"pointer"},onClick:function(){return U(e.id)}}),Object(T.jsx)("h6",{className:na.a.likeCount,children:e.likedAmount})]})]})]})]},e.id)}))})}function sa(e){var t=e.userId,a=Object(n.useState)([]),r=Object(j.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!0),l=Object(j.a)(o,2),b=l[0],m=l[1],p=localStorage.getItem("token");return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(!0),!t||!p){e.next=8;break}return e.next=5,ra(p,t);case 5:a=e.sent,Array.isArray(a)?s(a):(console.error("Expected an array but received",a),s([])),m(!1);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching replies:",e.t0),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,p]),b?Object(T.jsx)("p",{children:"Loading..."}):0===c.length?Object(T.jsx)("p",{children:"\u4f7f\u7528\u8005\u7121\u56de\u8986\u63a8\u6587"}):Object(T.jsx)("div",{children:c.map((function(e){return Object(T.jsxs)("div",{className:na.a.container,children:[Object(T.jsx)("div",{className:na.a.avatar,children:Object(T.jsx)(i.b,{to:"/user/".concat(t),children:Object(T.jsx)("img",{className:"cursor-point",src:e.User.avatar||be,alt:"avatar"})})}),Object(T.jsxs)("div",{className:na.a.userPanel,children:[Object(T.jsxs)("div",{className:na.a.accountInfo,children:[Object(T.jsx)("h6",{className:na.a.name,children:e.User.name}),Object(T.jsxs)("h6",{className:na.a.accountAndTime,children:["@",e.User.account,"\uff0e",e.createdAt]})]}),Object(T.jsxs)("div",{className:na.a.replyUser,children:[Object(T.jsx)("h6",{className:na.a.reply,children:"\u56de\u8986"}),Object(T.jsxs)("h6",{className:na.a.replyPostUser,children:["@",e.Tweet.User.account]})]}),Object(T.jsx)("div",{className:na.a.replyContainer,children:e.comment})]})]},e.id)}))})}function ia(e){var t=e.userId,a=Object(n.useState)([]),r=Object(j.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!0),b=Object(j.a)(o,2),m=b[0],p=b[1],O=localStorage.getItem("token"),f=gt(),h=f.addLike,v=f.removeLike,x=Object(n.useState)(!1),_=Object(j.a)(x,2),w=_[0],g=_[1],k=Object(n.useState)(null),N=Object(j.a)(k,2),C=N[0],y=N[1];if(Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(!0),!t||!O){e.next=8;break}return e.next=5,vt(O,t);case 5:a=e.sent,Array.isArray(a)?s(a):(console.error("Expected an array but received",a),s([])),p(!1);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error fetching UserLikeData:",e.t0),p(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,O]),m)return Object(T.jsx)("p",{children:"Loading..."});if(0===c.length)return Object(T.jsx)("p",{children:"\u4f7f\u7528\u8005\u7121\u559c\u6b61\u7684\u5167\u5bb9"});var I=function(){g(!1)};return Object(T.jsx)("div",{children:c.map((function(e){return Object(T.jsxs)("div",{className:na.a.container,children:[Object(T.jsx)("div",{className:na.a.avatar,children:Object(T.jsx)("img",{className:"cursor-point",src:e.Tweet.User.avatar||be,alt:"avatar"})}),Object(T.jsxs)("div",{className:na.a.userPanel,children:[Object(T.jsxs)("div",{className:na.a.accountInfo,children:[Object(T.jsx)("h6",{className:na.a.name,children:e.Tweet.User.name}),Object(T.jsxs)("h6",{className:na.a.accountAndTime,children:["@",e.Tweet.User.account,"\uff0e",e.tweetCreatedAt]})]}),Object(T.jsx)(i.b,{to:"/tweets/".concat(e.Tweet.id),children:Object(T.jsx)("div",{className:na.a.tweetContainer,children:c?e.Tweet.description:"Loading..."})}),Object(T.jsxs)("div",{className:na.a.iconEffect,children:[Object(T.jsxs)("div",{className:na.a.replyEffect,children:[Object(T.jsx)(ct,{className:"".concat(na.a.replyIcon,"cursor-point"),width:"1em",height:"1em",onClick:function(){return t=e.Tweet,y(t),void g(!0);var t}}),w&&Object(T.jsx)($e,{isOpen:w,onClose:I,tweetInfo:C}),Object(T.jsx)("h6",{className:na.a.replyCount,children:e.repliedAmount})]}),Object(T.jsxs)("div",{className:na.a.likeEffect,children:[e.isLiked?Object(T.jsx)(Ot,{className:na.a.likeIcon,style:{cursor:"pointer"},onClick:Object(d.a)(Object(u.a)().mark((function t(){return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e.Tweet.id,O);case 3:s((function(t){return t.filter((function(t){return t.id!==e.id}))})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Failed to remove like:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}):Object(T.jsx)(dt,{className:na.a.likeIcon,style:{cursor:"pointer"},onClick:function(){h(e.Tweet.id,O).then((function(){s((function(t){return t.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{isLiked:!0,likedAmount:t.likedAmount+1}):t}))}))}))}}),Object(T.jsx)("h6",{className:na.a.likeCount,children:e.likedAmount})]})]})]})]},e.id)}))})}function oa(){var e,t=Object(o.n)(),a=t.id,r=t.tab,c=L(),s=c.isAuthenticated,l=c.currentMember,b=Object(n.useState)(null),m=Object(j.a)(b,2),p=m[0],O=m[1],f=Object(n.useState)(!0),h=Object(j.a)(f,2),v=h[0],x=h[1],_=Object(n.useState)(!1),w=Object(j.a)(_,2),g=w[0],k=w[1],N=Object(n.useState)(0),C=Object(j.a)(N,2),y=C[0],I=C[1],U=Mt(),S=U.followUser,E=U.unfollowUser;switch(Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,A(t,a);case 4:n=e.sent,O(n),x(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error fetching user data",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();s&&a&&e()}),[a,s,g,r]),r){case"reply":e=p?Object(T.jsx)(sa,{data:p,userId:a}):"Loading...";break;case"like":e=p?Object(T.jsx)(ia,{data:p,userId:a}):"Loading...";break;default:e=p?Object(T.jsx)(ca,{data:p,userId:a,updateTweetCount:function(e){I(e)}}):"Loading..."}var M=Object(o.i)();return Object(T.jsxs)("div",{className:ta.a.container,children:[Object(T.jsx)("div",{className:ta.a.navContainer,children:Object(T.jsx)(Ne,{page:"user"})}),Object(T.jsxs)("div",{className:ta.a.middleContainer,children:[v?"Loading...":Object(T.jsx)(Ae,{title:p.name,arrow:!0,tweetCount:y}),v?"Loading...":Object(T.jsx)($t,{onSaveSuccess:function(){k((function(e){return!e}))},isOtherUser:Number(null===l||void 0===l?void 0:l.id)===Number(a),userData:p,isFollowed:p.isFollowed,Follow:S,Unfollow:E}),Object(T.jsxs)("ul",{className:ta.a.link,children:[Object(T.jsx)("li",{children:Object(T.jsx)(i.b,{to:"/user/".concat(a),className:M.pathname==="/user/".concat(a)?ta.a.userLinkActive:ta.a.userLink,children:"\u63a8\u6587"})}),Object(T.jsx)("li",{children:Object(T.jsx)(i.b,{to:"/user/".concat(a,"/reply"),className:M.pathname==="/user/".concat(a,"/reply")?ta.a.userLinkActive:ta.a.userLink,children:"\u56de\u8986"})}),Object(T.jsx)("li",{children:Object(T.jsx)(i.b,{to:"/user/".concat(a,"/like"),className:M.pathname==="/user/".concat(a,"/like")?ta.a.userLinkActive:ta.a.userLink,children:"\u559c\u6b61\u7684\u5167\u5bb9"})})]}),e]}),Object(T.jsx)("div",{className:ta.a.suggestUserContainer,children:Object(T.jsx)(Rt,{})})]})}var la=a(56),ua=a.n(la);function da(){var e=L(),t=e.isAuthenticated,a=e.currentMember,r=localStorage.getItem("token"),c=Object(n.useState)(""),s=Object(j.a)(c,2),i=s[0],l=s[1],b=Object(n.useState)(""),m=Object(j.a)(b,2),p=m[0],O=m[1],f=Object(n.useState)(""),h=Object(j.a)(f,2),v=h[0],x=h[1],_=Object(n.useState)(""),w=Object(j.a)(_,2),g=w[0],k=w[1],N=Object(n.useState)(""),C=Object(j.a)(N,2),y=C[0],I=C[1],A=Object(o.l)(),S=Object(n.useState)(!1),E=Object(j.a)(S,2),M=E[0],F=E[1],P=Object(n.useState)(!1),R=Object(j.a)(P,2),z=R[0],D=R[1],H=Object(n.useState)(!1),K=Object(j.a)(H,2),X=K[0],Q=K[1];Object(n.useEffect)((function(){M||t&&a&&(l(a.account),O(a.name),x(a.email),F(!0),console.log())}),[t,a,M]);var W=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(r,a.id,{account:i,name:p,email:v,password:g,checkPassword:y});case 2:if(t=e.sent,console.log(t),"success"!==t.status){e.next=12;break}l(i),O(p),x(v),B.a.fire({position:"top",title:"\u8b8a\u66f4\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),A("/setting"),e.next=16;break;case 12:return B.a.fire({position:"top",title:"\u8b8a\u66f4\u5931\u6557\uff01",text:t.error.response.data.message,timer:1e3,icon:"error",showConfirmButton:!1}),console.log(t.error.response.data.message),"Error: email\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===t.error.response.data.message?Q(!0):"Error: account\u5df2\u91cd\u8907\u8a3b\u518a\uff01"===t.error.response.data.message&&D(!0),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{className:"".concat(ua.a.container," container max-auto"),children:[Object(T.jsx)("div",{className:ua.a.navContainer,children:Object(T.jsx)(Ne,{page:"user"})}),Object(T.jsxs)("div",{className:ua.a.middleContainer,children:[Object(T.jsx)("div",{className:ua.a.header,children:Object(T.jsx)(Ae,{title:"\u5e33\u6236\u8a2d\u5b9a"})}),Object(T.jsxs)("div",{className:ua.a.input,children:[Object(T.jsx)(V,{label:"\u5e33\u865f",value:i,placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",onChange:function(e){l(e),D("")},notification:z?"Error: account\u5df2\u91cd\u8907\u8a3b\u518a\uff01":"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:50}),Object(T.jsx)(V,{label:"\u540d\u7a31",value:p,placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",onChange:function(e){return O(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:50}),Object(T.jsx)(V,{label:"Email",value:v,placeholder:"\u8acb\u8f38\u5165Email",onChange:function(e){x(e),Q("")},notification:X?"Error: email\u5df2\u91cd\u8907\u8a3b\u518a\uff01":"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:100}),Object(T.jsx)(V,{label:"\u5bc6\u78bc",value:g,placeholder:"\u8acb\u8a2d\u5b9a\u5bc6\u78bc",type:"password",onChange:function(e){return k(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:20}),Object(T.jsx)(V,{label:"\u5bc6\u78bc\u78ba\u8a8d",value:y,placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",type:"password",onChange:function(e){return I(e)},notification:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650!",wordsLimit:20})]}),Object(T.jsx)("div",{className:ua.a.button,children:Object(T.jsx)(G,{title:"\u5132\u5b58",size:"small",isAction:!0,onClick:W})})]})]})}var ja=a(21),ba=a.n(ja);function ma(e){var t=e.tweetid,a=Object(n.useState)(null),r=Object(j.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!1),b=Object(j.a)(o,2),m=b[0],p=b[1],O=gt(),f=O.likes,h=O.addLike,v=O.removeLike,x=Object(n.useState)(f.includes(t)),_=Object(j.a)(x,2),w=_[0],g=_[1],k=localStorage.getItem("token"),N=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=F,w){e.next=8;break}return e.next=4,h(t,k);case 4:g(!0),a++,e.next=12;break;case 8:return e.next=10,v(t,k);case 10:g(!1),a--;case 12:s(Object(l.a)(Object(l.a)({},c),{},{likedAmount:a}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){g(f.includes(t))}),[f,t]),Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe(localStorage.getItem("token"),t);case 3:a=e.sent,s(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("fetch tweet data failed",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),!c)return null;var C=c.User,y=C.name,I=C.account,A=C.avatar,U=C.id,S=c.description,E=c.createdAtTime,M=c.createdAtDate,L=c.repliedAmount,F=c.likedAmount;return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:ba.a.container,children:[Object(T.jsxs)("div",{className:ba.a.top,children:[Object(T.jsx)("div",{className:ba.a.avatar,children:Object(T.jsx)(i.b,{to:"/user/".concat(U),children:Object(T.jsx)("img",{src:A,alt:"avatar"})})}),Object(T.jsxs)("div",{className:ba.a.nameAndAccount,children:[Object(T.jsx)("h6",{className:ba.a.name,children:y}),Object(T.jsxs)("h6",{className:ba.a.account,children:["@",I]})]})]}),Object(T.jsx)("div",{className:ba.a.middleContainer,children:S}),Object(T.jsxs)("div",{className:ba.a.time,children:[E,"\uff0e",M]})]}),Object(T.jsxs)("div",{className:ba.a.replyAndLikeCount,children:[Object(T.jsxs)("div",{className:ba.a.reply,children:[Object(T.jsx)("p",{className:ba.a.count,children:L}),Object(T.jsx)("p",{className:ba.a.replyAndLike,children:"\u56de\u8986"})]}),Object(T.jsxs)("div",{className:ba.a.like,children:[Object(T.jsx)("p",{className:ba.a.count,children:F}),Object(T.jsx)("p",{className:ba.a.replyAndLike,children:"\u559c\u6b61\u6b21\u6578"})]})]}),Object(T.jsxs)("div",{className:ba.a.icon,children:[Object(T.jsx)(ct,{className:"".concat(ba.a.replyIcon),width:"1em",height:"1em",onClick:function(){p(!0)}}),m&&Object(T.jsx)($e,{isOpen:m,onClose:function(){p(!1)},tweetInfo:c}),w?Object(T.jsx)(Ot,{className:ba.a.likeIcon,onClick:N,style:{cursor:"pointer"}}):Object(T.jsx)(dt,{className:ba.a.likeIcon,onClick:N,style:{cursor:"pointer"}})]})]})}var pa=a(44),Oa=a.n(pa);function fa(){var e=Object(o.n)().tweetid,t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(d.a)(Object(u.a)().mark((function t(){var a,n,r,s;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([fe(localStorage.getItem("token"),e),he(localStorage.getItem("token"),e)]);case 3:a=t.sent,n=Object(j.a)(a,2),r=n[0],"success"===(s=n[1]).status&&"\u6b64\u7bc7\u63a8\u6587\u76ee\u524d\u6c92\u6709\u56de\u8986\u3002"===s.message?c({tweet:r,replies:[]}):c({tweet:r,replies:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("fetch tweet data failed",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),r?Object(T.jsx)("div",{className:Oa.a.container,children:Object(T.jsxs)("div",{className:Oa.a.replyContainer,children:[Object(T.jsx)("div",{className:Oa.a.navContainer,children:Object(T.jsx)(Ne,{page:"user"})}),Object(T.jsxs)("div",{className:Oa.a.middleContainer,children:[Object(T.jsx)("div",{className:Oa.a.header,children:Object(T.jsx)(Ae,{title:"\u63a8\u6587",arrow:!0})}),Object(T.jsx)("div",{className:Oa.a.tweet,children:Object(T.jsx)(ma,{tweetid:e})}),Object(T.jsx)("div",{className:Oa.a.replytweet,children:0===r.replies.length?Object(T.jsx)("p",{children:"\u76ee\u524d\u6c92\u6709\u56de\u8986"}):r.replies.map((function(e){return Object(T.jsx)(Ct,{reply:e},e.id)}))})]}),Object(T.jsx)("div",{className:Oa.a.sugContainer,children:Object(T.jsx)(Rt,{})})]})}):Object(T.jsx)("p",{children:"Loading..."})}var ha=a(28),va=a.n(ha);function xa(e){var t=e.avatar,a=e.name,r=e.introduction,c=e.isFollowed,s=e.Follow,i=e.Unfollow,o=e.followerId,l=Object(n.useState)(c),b=Object(j.a)(l,2),m=b[0],p=b[1],O=localStorage.getItem("token"),f=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=7;break}return e.next=3,i(o,O);case 3:"\u53d6\u6d88\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&p(!1),e.next=11;break;case 7:return e.next=9,s(o,O);case 9:"\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&p(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:va.a.container,children:Object(T.jsxs)("div",{className:va.a.content,children:[Object(T.jsxs)("div",{className:va.a.top,children:[Object(T.jsx)("div",{className:va.a.avatar,children:Object(T.jsx)("img",{src:t||be,alt:"avatar"})}),Object(T.jsx)("div",{className:va.a.followerName,children:a}),Object(T.jsx)("div",{className:va.a.button,children:m?Object(T.jsx)(G,{title:"\u6b63\u5728\u8ddf\u96a8",size:"middle",onClick:function(){return f(o)},isAction:!0}):Object(T.jsx)(G,{title:"\u8ddf\u96a8",size:"small",onClick:function(){return f(o)}})})]}),Object(T.jsx)("div",{className:va.a.introduction,children:r})]})})}function _a(e){var t=e.avatar,a=e.name,r=e.introduction,c=e.isFollowed,s=e.Follow,i=e.Unfollow,o=e.followingId,l=Object(n.useState)(c),b=Object(j.a)(l,2),m=b[0],p=b[1],O=localStorage.getItem("token"),f=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=7;break}return e.next=3,i(o,O);case 3:"\u53d6\u6d88\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&p(!1),e.next=11;break;case 7:return e.next=9,s(o,O);case 9:"\u8ddf\u96a8\u6210\u529f!"===e.sent.message&&p(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:va.a.container,children:Object(T.jsxs)("div",{className:va.a.content,children:[Object(T.jsxs)("div",{className:va.a.top,children:[Object(T.jsx)("div",{className:va.a.avatar,children:Object(T.jsx)("img",{src:t||be,alt:"avatar"})}),Object(T.jsx)("div",{className:va.a.followerName,children:a}),Object(T.jsx)("div",{className:va.a.button,children:m?Object(T.jsx)(G,{title:"\u6b63\u5728\u8ddf\u96a8",size:"middle",onClick:function(){return f(o)},isAction:!0}):Object(T.jsx)(G,{title:"\u8ddf\u96a8",size:"small",onClick:function(){return f(o)}})})]}),Object(T.jsx)("div",{className:va.a.introduction,children:r})]})})}var wa=a(31),ga=a.n(wa);function ka(e){var t=e.followerId,a=e.followingId;console.log("followerId::::",t),console.log("followingId::::",a);var r=L(),c=r.isAuthenticated,s=r.currentMember,l=localStorage.getItem("token"),b=Object(n.useState)([]),m=Object(j.a)(b,2),p=m[0],O=m[1],f=Object(n.useState)(!1),h=Object(j.a)(f,2),v=h[0],x=h[1],_=Mt(),w=_.followUser,g=_.unfollowUser,C=Object(o.n)(),y=C.id,I=C.tab;Object(n.useEffect)((function(){if(c&&null!==y&&null!==s){var e=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"follower"!==I){e.next=7;break}return e.next=4,k(l,y);case 4:t=e.sent,e.next=12;break;case 7:if("followings"!==I){e.next=12;break}return e.next=10,N(l,y);case 10:(t=e.sent)&&"success"===t.status?(x(!0),O([])):(x(!1),O([]));case 12:console.log("API response:",t),O(t),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("[Fetching data failed]",e.t0),O([]);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}}),[c,l,y,I,s]);var A=Object(o.i)();return Object(T.jsx)("div",{className:ga.a.container,children:Object(T.jsxs)("div",{className:ga.a.mainContainer,children:[Object(T.jsx)("div",{className:ga.a.navContainer,children:Object(T.jsx)(Ne,{page:"user"})}),Object(T.jsxs)("div",{className:ga.a.middleContainer,children:[Object(T.jsx)("div",{className:ga.a.header,children:Object(T.jsx)(Ae,{title:null===s||void 0===s?void 0:s.name,arrow:!0,tweetCount:null===s||void 0===s?void 0:s.tweetCount})}),Object(T.jsx)("div",{className:ga.a.followTable,children:Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:Object(T.jsx)(i.b,{to:"/users/".concat(y,"/follower"),className:A.pathname==="/users/".concat(y,"/follower")?ga.a.followLinkActive:ga.a.followLink,children:"\u8ffd\u96a8\u8005"})}),Object(T.jsx)("li",{children:Object(T.jsx)(i.b,{to:"/users/".concat(y,"/followings"),className:A.pathname==="/users/".concat(y,"/followings")?ga.a.followLinkActive:ga.a.followLink,children:"\u6b63\u5728\u8ffd\u96a8\u4e2d"})})]})}),Object(T.jsx)("div",{className:ga.a.followList,children:"follower"===I?v?Object(T.jsx)("p",{children:"\u76ee\u524d\u6c92\u6709\u8ffd\u96a8\u8005"}):p.map((function(e){return Object(T.jsx)(xa,{avatar:e.avatar,name:e.name,introduction:e.introduction,isFollowed:e.isFollowed,followerId:e.followerId,Follow:w,Unfollow:g},e.id)})):v?Object(T.jsx)("p",{children:"\u76ee\u524d\u6c92\u6709\u6b63\u5728\u8ffd\u8e64"}):p.map((function(e){return Object(T.jsx)(_a,{avatar:e.avatar,name:e.name,introduction:e.introduction,isFollowed:e.isFollowed,followingId:e.followingId,Follow:w,Unfollow:g},e.id)}))})]}),Object(T.jsx)("div",{className:ga.a.sugContainer,children:Object(T.jsx)(Rt,{})})]})})}var Na=function(){return Object(T.jsx)("div",{className:"app",children:Object(T.jsx)(i.a,{basename:"/ac-simple-twitter",children:Object(T.jsx)(F,{children:Object(T.jsx)(kt,{children:Object(T.jsx)(Lt,{children:Object(T.jsxs)(o.c,{children:[Object(T.jsx)(o.a,{path:"*",element:Object(T.jsx)(P,{})}),Object(T.jsx)(o.a,{path:"login",element:Object(T.jsx)(ee,{})}),Object(T.jsx)(o.a,{path:"register",element:Object(T.jsx)(ne,{})}),Object(T.jsx)(o.a,{path:"admin/login",element:Object(T.jsx)(se,{})}),Object(T.jsx)(o.a,{path:"admin/main",element:Object(T.jsx)(Fe,{})}),Object(T.jsx)(o.a,{path:"admin/users",element:Object(T.jsx)(Ve,{})}),Object(T.jsx)(o.a,{path:"main",element:Object(T.jsx)(Dt,{})}),Object(T.jsxs)(o.a,{path:"user",children:[Object(T.jsx)(o.a,{index:!0,element:Object(T.jsx)(oa,{})}),Object(T.jsx)(o.a,{path:":id",element:Object(T.jsx)(oa,{})}),Object(T.jsx)(o.a,{path:":id/:tab",element:Object(T.jsx)(oa,{})})]}),Object(T.jsx)(o.a,{path:"setting",element:Object(T.jsx)(da,{})}),Object(T.jsx)(o.a,{path:"tweets/:tweetid",element:Object(T.jsx)(fa,{})}),Object(T.jsxs)(o.a,{path:"users",children:[Object(T.jsx)(o.a,{index:!0,element:Object(T.jsx)(ka,{})}),Object(T.jsx)(o.a,{path:":id/:tab",element:Object(T.jsx)(ka,{})})]})]})})})})})})},Ca=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,325)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(Na,{})})),Ca()},34:function(e,t,a){e.exports={container:"AdminTweetItem_container__SbIcK",avatar:"AdminTweetItem_avatar__EvpHg",avatarImg:"AdminTweetItem_avatarImg__2zF5E",infoContainer:"AdminTweetItem_infoContainer__2aIOa",userInfo:"AdminTweetItem_userInfo__D1Qh-",name:"AdminTweetItem_name__12r28",tweetTime:"AdminTweetItem_tweetTime__2rr7W",tweetContent:"AdminTweetItem_tweetContent__2Epia",adminDelete:"AdminTweetItem_adminDelete__3C6am",deleteImg:"AdminTweetItem_deleteImg__hFW8O"}},35:function(e,t,a){e.exports={container:"UserPage_container__1wQnR",middleContainer:"UserPage_middleContainer__2xzr3",link:"UserPage_link__1izVx",userLinkActive:"UserPage_userLinkActive__20xpL",userLink:"UserPage_userLink__1IpRL"}},36:function(e,t,a){e.exports={container:"Header_container__21wXn",headerContainer:"Header_headerContainer__1HSoZ",arrow:"Header_arrow__37dgV",smallTitle:"Header_smallTitle__1Dt7Q",tweetCount:"Header_tweetCount__3zCGD"}},38:function(e,t,a){e.exports={container:"AuthInput_container__3yw3K",label:"AuthInput_label__wKdHN",input:"AuthInput_input__B3Fvj",active:"AuthInput_active__1VAUQ",noteBox:"AuthInput_noteBox__lpRIM",notification:"AuthInput_notification__3wUh-",count:"AuthInput_count__3r5Kx"}},39:function(e,t,a){e.exports={container:"NavContainer_container__2lrqk",logoImg:"NavContainer_logoImg__1fT47",logout:"NavContainer_logout__2E0-L",logoutImg:"NavContainer_logoutImg__2RtCi",btnName:"NavContainer_btnName__3qZVO",activeLinkCheck:"NavContainer_activeLinkCheck__hx5Go"}},40:function(e,t,a){e.exports={fieldContainer:"TweetField_fieldContainer__1HEBL",tweetContainer:"TweetField_tweetContainer__2M6A-",avatar:"TweetField_avatar__1FhHd",textAreaContainer:"TweetField_textAreaContainer__18TUB",textarea:"TweetField_textarea__2ehS8",buttonAndMessage:"TweetField_buttonAndMessage__17tTc",errorMessage:"TweetField_errorMessage__2jSWE",showError:"TweetField_showError__9vWV-",tweetButton:"TweetField_tweetButton__5Crdd"}},43:function(e,t,a){e.exports={container:"MainPage_container__3VWBn",mainContainer:"MainPage_mainContainer__2grRq",middleContainer:"MainPage_middleContainer__oydDr",header:"MainPage_header__VvVCu",tweetField:"MainPage_tweetField__3OT4E"}},44:function(e,t,a){e.exports={container:"ReplyTweetPage_container__1cvow",replyContainer:"ReplyTweetPage_replyContainer__11eon",middleContainer:"ReplyTweetPage_middleContainer__3p_is",header:"ReplyTweetPage_header__3JeHQ"}},49:function(e,t,a){e.exports={button:"Button_button__2Lf63",small:"Button_small__1WqE1",middle:"Button_middle__U5r3P",navTweet:"Button_navTweet__27d9Y",large:"Button_large__1i_fg",action:"Button_action__1zLpj",edit:"Button_edit__29E5i"}},50:function(e,t,a){e.exports={container:"SuggestUserItem_container__3PECH",avatarContainer:"SuggestUserItem_avatarContainer__3hbXo",userAvatar:"SuggestUserItem_userAvatar__3GeUc",userInfo:"SuggestUserItem_userInfo__35bEL",userInfoName:"SuggestUserItem_userInfoName__1bLeW",userInfoAccount:"SuggestUserItem_userInfoAccount__1pDjH",btnFollow:"SuggestUserItem_btnFollow__1EwtB"}},55:function(e,t,a){e.exports={container:"NavItem_container__3AFv1",iconHome:"NavItem_iconHome__18RKe",iconUser:"NavItem_iconUser__2Ttyq",iconSetting:"NavItem_iconSetting__3XLDb",title:"NavItem_title__ORKhr",iconStyle:"NavItem_iconStyle__8KTMc",activeTitle:"NavItem_activeTitle__3Iz-x",activeIcon:"NavItem_activeIcon__1qK4X"}},56:function(e,t,a){e.exports={container:"SettingPage__container__3LAYg",middleContainer:"SettingPage__middleContainer__2Gcro",input:"SettingPage__input__3X9TI",button:"SettingPage__button__x3Jjn"}},74:function(e,t,a){e.exports={container:"AuthPageContainer_container__3hNkB",logo:"AuthPageContainer_logo__2bTsx",title:"AuthPageContainer_title__1BXPh",AuthInputContainer:"AuthPageContainer_AuthInputContainer__1oW4I"}},89:function(e,t,a){e.exports={link:"LoginPage_link__BHBA3",span:"LoginPage_span__o3geP"}},90:function(e,t,a){e.exports={container:"AdminMainPage_container__2kiAG",listContainer:"AdminMainPage_listContainer__2Q958",list:"AdminMainPage_list__r-hRn"}},91:function(e,t,a){e.exports={container:"AdminUserPage_container__18_RT",cardContainer:"AdminUserPage_cardContainer__bOlHU",card:"AdminUserPage_card__2LDvd"}},92:function(e,t,a){e.exports={container:"SuggestUserContainer_container__kvomX",title:"SuggestUserContainer_title__3naUU",list:"SuggestUserContainer_list__1L5yB"}}},[[323,1,2]]]);
//# sourceMappingURL=main.bfd9d2cd.chunk.js.map